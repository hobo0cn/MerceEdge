version: '1'
formula: rtmp_demo_formula
author: Merce Group
info: This is a rtmp demo formula.

components:
  - template: rtmp_component
    id: rtmp_component_test
   
  - template: object_detection
    id: object_detection_test
    
  - template: mqtt_switch
    id: mqtt_switch_test

wires:
  - output_sink: 
      component_id: rtmp_component_test
      output: rtmp_video_stream
      parameters: 
        rtmp_url: 'rtmp://xxx.xxxxx'
    input_slot:
      component_id: object_detection_test
      input: rtmp
  
  - output_sink: 
      component_id: object_detection_test
      output: object_detection_result
    input_slot:
      component_id: mqtt_switch_test
      input: toggle_input
    
        
  


